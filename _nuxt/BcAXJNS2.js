import{l as g,j as i,P as _,m as B,i as $,b as l,w as r,o,c as n,a,e as w,f as F,d as N,F as p,r as d,g as j,h as P}from"./CieyZeqY.js";import{_ as T}from"./vR6oncno.js";import{_ as A}from"./DHyMCrqv.js";import{_ as R}from"./DxAdhoeH.js";import{_ as S}from"./CMSxeAf6.js";import{_ as q}from"./CQTm2Kze.js";import E from"./CTeE01yd.js";const G={data(){return{resource:null,response:null,options:E,permissions:[]}},mounted(){i(`/roles/${(this._.provides[_]||this.$route).params.id}`).then(e=>{this.resource={name:e.name,permissions:e.permissions.map(s=>s.name)},this.response=e})},methods:{searchAsync:async e=>{const{data:s}=await i("/roles",{query:{search:e}});return s.map(m=>m.name)},save(){i(`/roles/${(this._.provides[_]||this.$route).params.id}`,{method:"PUT",body:this.resource}).then(()=>{B().add({title:"User updated success",icon:"i-heroicons-check-circle-20-solid"}),$().replace({name:"roles-id",params:{id:(this._.provides[_]||this.$route).params.id}})})}}},I={key:0,class:"py-4 mb-8 rounded-md"},L={key:0,class:"flex justify-end"},O={class:"grid grid-cols-2 xl:grid-cols-4"},z={key:1,class:"p-4"};function D(e,s,m,H,t,h){const f=j,v=P,y=T,k=A,x=R,b=S,U=q;return o(),l(U,{class:"w-full"},{default:r(()=>[t.resource?(o(),n("div",I,[e.$can("update roles")?(o(),n("div",L,[a(v,{onClick:h.save,color:"primary",variant:"outline"},{default:r(()=>[a(f,{name:"iconoir:save-floppy-disk"}),w(" Save ")]),_:1},8,["onClick"])])):F("",!0),a(x,{resource:t.resource},{permissions:r(()=>[N("div",O,[(o(!0),n(p,null,d(Object.keys(t.response.available_permissions),u=>(o(),l(k,{class:"my-2",label:u},{default:r(()=>[(o(!0),n(p,null,d(t.response.available_permissions[u],(c,V)=>(o(),l(y,{label:c.name,key:V,id:c.name,value:c.name,modelValue:t.resource.permissions,"onUpdate:modelValue":s[0]||(s[0]=C=>t.resource.permissions=C)},null,8,["label","id","value","modelValue"]))),128))]),_:2},1032,["label"]))),256))])]),_:1},8,["resource"])])):(o(),n("div",z,[a(b,{count:8})]))]),_:1})}const Z=g(G,[["render",D]]);export{Z as default};
