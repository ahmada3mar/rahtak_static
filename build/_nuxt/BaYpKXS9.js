import{_ as k}from"./BHQ3fbpJ.js";import{c as u,a as s,w as n,u as i,j as w,o as l,F as N,r as S,b as _,f as B,e as c,t as M,d as f,h as C,_ as F,g as $}from"./D-3yo0Mp.js";import{_ as j}from"./BKF5xlxd.js";import{a as P,_ as A}from"./IagKtW_X.js";import{_ as E}from"./CTLLGDnH.js";import{o as L,s as b,_ as q}from"./DaGkKWFa.js";import{_ as I}from"./D3QhuTF0.js";import r from"./BpuXVqeh.js";import"./B2TJdum6.js";import"./B5n3ncNc.js";import"./CnP5A1E9.js";import"./lDewecnx.js";import"./Dl_woywd.js";import"./DcY1Y3vk.js";import"./zEcIhLBw.js";import"./BvJSKjL0.js";const O={class:"p-4 flex-1"},T={class:"flex justify-end"},D={data(){return{addModel:!1,permission:{roles:[]},options:r}},methods:{createPermission(){w("/permissions",{method:"POST",body:this.permission}).then(()=>{this.addModel=!1,this.$refs.table.refresh(),this.permission={roles:[]}})}}},le=Object.assign(D,{__name:"index",setup(G){const V=L({name:b("Name is required"),description:b("Email is required")});return(o,a)=>{const y=k,p=C,h=F,v=j,U=$,m=P,t=A,x=E,z=q,g=I;return l(),u("div",null,[s(v,{ref:"table",columns:i(r).columns,filters:i(r).filters,url:"/permissions",ui:{th:{base:"text-left"}}},{"roles-data":n(({row:e})=>[(l(!0),u(N,null,S(e.roles,d=>(l(),_(y,{key:d.name,ui:{rounded:"rounded-full"},class:"mx-1 capitalize",size:"xs",label:d.name,color:d.name.toLowerCase().includes("admin")?"emerald":"orange"},null,8,["label","color"]))),128))]),"extra-header":n(()=>[o.$can("create permissions")?(l(),_(p,{key:0,size:"xs",onClick:a[0]||(a[0]=e=>o.addModel=!0),label:"Add permission"})):B("",!0)]),"name-data":n(({row:e})=>[s(h,{class:"text-primary font-bold underline dark:text-gray-400",to:{name:"permissions-id",params:{id:e.id}}},{default:n(()=>[c(M(e.name),1)]),_:2},1032,["to"])]),_:1},8,["columns","filters"]),s(g,{modelValue:o.addModel,"onUpdate:modelValue":a[5]||(a[5]=e=>o.addModel=e)},{default:n(()=>[f("div",O,[s(z,{schema:i(V),state:o.permission,onSubmit:o.createPermission},{default:n(()=>[f("div",T,[s(p,{type:"submit",color:"primary",variant:"outline"},{default:n(()=>[s(U,{name:"heroicons:user-plus"}),c(" Create permission ")]),_:1})]),s(t,{class:"my-2 capitalize",label:"Name",name:"name"},{default:n(()=>[s(m,{icon:"i-heroicons-permission-circle",size:"md",modelValue:o.permission.name,"onUpdate:modelValue":a[1]||(a[1]=e=>o.permission.name=e),variant:"outline"},null,8,["modelValue"])]),_:1}),s(t,{class:"my-2 capitalize",label:"E-mail",name:"email"},{default:n(()=>[s(m,{icon:"i-heroicons-at-symbol",size:"md",modelValue:o.permission.email,"onUpdate:modelValue":a[2]||(a[2]=e=>o.permission.email=e),variant:"outline"},null,8,["modelValue"])]),_:1}),s(t,{class:"my-2 capitalize",label:"Password",name:"password"},{default:n(()=>[s(m,{icon:"i-heroicons-finger-print-solid",size:"md",type:"password",modelValue:o.permission.password,"onUpdate:modelValue":a[3]||(a[3]=e=>o.permission.password=e),variant:"outline"},null,8,["modelValue"])]),_:1}),s(t,{class:"my-2 capitalize",label:"Roles",name:"roles"},{default:n(()=>[s(x,{modelValue:o.permission.roles,"onUpdate:modelValue":a[4]||(a[4]=e=>o.permission.roles=e),"value-attribute":"value","option-attribute":"value",searchable:i(r).searchAsync,multiple:"",placeholder:"Select roles..."},null,8,["modelValue","searchable"])]),_:1})]),_:1},8,["schema","state","onSubmit"])])]),_:1},8,["modelValue"])])}}});export{le as default};
