import{_ as y}from"./CxZCYzgM.js";import{aD as z,aE as k,y as M,o as d,c,d as e,a,w as o,u as f,F as V,r as A,t as u,e as C,f as U,h as B}from"./CSfNu48z.js";import{_ as N}from"./D_zICvME.js";import{_ as E}from"./21eeqBYg.js";import{_ as H}from"./qicmLMUY.js";import{_ as j}from"./C1elpSFF.js";const F=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24"},[e("g",{fill:"none"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M12 8v4l2.5 2.5"}),e("path",{fill:"currentColor",d:"m5.604 5.604l-.53-.53zM4.338 6.871l-.75.003a.75.75 0 0 0 .746.747zm2.542.762a.75.75 0 1 0 .007-1.5zM5.075 4.321a.75.75 0 0 0-1.5.008zM3.75 12a.75.75 0 0 0-1.5 0zm13.125 8.445a.75.75 0 1 0-.75-1.298zm2.272-4.32a.75.75 0 1 0 1.298.75zM5.14 5.07a.75.75 0 1 0 1.056 1.066zm13.722.067c-3.82-3.82-9.993-3.859-13.788-.064l1.06 1.06c3.2-3.199 8.423-3.18 11.668.065zM5.074 5.074L3.808 6.34l1.06 1.06l1.267-1.265zm-.74 2.547l2.546.012l.007-1.5l-2.545-.012zm.754-.754L5.075 4.32l-1.5.008l.013 2.545zM12 3.75A8.25 8.25 0 0 1 20.25 12h1.5A9.75 9.75 0 0 0 12 2.25zm0 16.5A8.25 8.25 0 0 1 3.75 12h-1.5A9.75 9.75 0 0 0 12 21.75zm4.125-1.103A8.209 8.209 0 0 1 12 20.25v1.5c1.775 0 3.44-.475 4.875-1.305zM20.25 12a8.209 8.209 0 0 1-1.103 4.125l1.298.75A9.708 9.708 0 0 0 21.75 12zM6.196 6.137A8.221 8.221 0 0 1 12 3.75v-1.5a9.721 9.721 0 0 0-6.86 2.821z"})])],-1),L={class:"flex items-center justify-between"},T=e("h3",{class:"text-base font-semibold leading-6 text-gray-900 dark:text-white"}," Changes ",-1),D={key:0,class:"max-h-[500px] relative text-left rtl:text-right flex flex-col overflow-y-auto"},O={class:"my-4 bg-gray-50 dark:bg-slate-700 p-2 rounded-lg"},$={class:"px-2 bg-green-300 text-primary"},q={class:"px-2 line-through bg-red-300 text-primary"},G={class:"text-sm"},S={class:"underline text-primary"},W={__name:"History",props:z({response:{default:{},required:!0}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(p){const r=k(p,"modelValue"),_=M(null),x=p,v=()=>{r.value=!0;let m=[];console.log(x.response.activities),x.response.activities.forEach(t=>{let i=[];Object.keys(t.properties.attributes).forEach(l=>{i.push({new:{key:l,value:t.properties.attributes[l]},old:{key:l,value:t.properties.old[l]}})}),m.push({at:t.created_at,items:i})}),_.value=m};return(m,t)=>{const i=y,l=B,h=N,g=E,b=H,w=j;return d(),c("div",null,[e("div",{onClick:v,role:"button",class:"mx-4"},[a(i,{text:"History"},{default:o(()=>[F]),_:1})]),a(w,{ui:{width:"w-full sm:max-w-3xl",base:""},modelValue:r.value,"onUpdate:modelValue":t[1]||(t[1]=s=>r.value=s)},{default:o(()=>[a(b,{ui:{ring:"",divide:"divide-y divide-gray-100 dark:divide-gray-800"}},{header:o(()=>[e("div",L,[T,a(l,{color:"gray",variant:"ghost",icon:"i-heroicons-x-mark-20-solid",class:"-my-1",onClick:t[0]||(t[0]=s=>r.value=!1)})])]),default:o(()=>[f(_)?(d(),c("div",D,[(d(!0),c(V,null,A(f(_),s=>(d(),c("div",O,[a(g,{columns:[{key:"old",label:"Old"},{key:"new",label:"New"}],rows:s.items},{"new-data":o(({row:n})=>[a(h,{label:n.new.key},{default:o(()=>[e("label",$,u(n.new.value),1)]),_:2},1032,["label"])]),"old-data":o(({row:n})=>[a(h,{label:n.old.key},{default:o(()=>[e("label",q,u(n.old.value),1)]),_:2},1032,["label"])]),_:2},1032,["rows"]),e("p",G,[C("Happened at: "),e("span",S,u(s.at),1)])]))),256))])):U("",!0)]),_:1})]),_:1},8,["modelValue"])])}}};export{W as _};
