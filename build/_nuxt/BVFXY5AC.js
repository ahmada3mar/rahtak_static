import{_ as k}from"./BbhU28nd.js";import{c as u,a as s,w as t,u as r,j as z,o as a,F as B,r as N,b as _,f as F,e as c,t as M,d as f,h as S,_ as $,g as j}from"./DI0QmMHN.js";import{_ as C}from"./BUK-HJfp.js";import{a as L,_ as P}from"./DIat6p7k.js";import{o as q,s as b,_ as w}from"./B10BJeIT.js";import{_ as I}from"./B6WF7LxZ.js";import m from"./DqvV2BNS.js";import"./-F6Swwe5.js";import"./D5_JmO13.js";import"./7YEkxXYt.js";import"./DoG2p7RH.js";import"./qy_m6NEr.js";import"./uuMfSvvr.js";import"./DFtNKLDe.js";import"./DCrLK4LH.js";import"./zTCSY_W6.js";const O={class:"p-4 flex-1"},T={class:"flex justify-end"},A={data(){return{addModel:!1,permission:{roles:[]},options:m}},methods:{createPermission(){z("/permissions",{method:"POST",body:this.permission}).then(()=>{this.addModel=!1,this.$refs.table.refresh(),this.permission={roles:[]}})}}},ae=Object.assign(A,{__name:"index",setup(D){const h=q({name:b("Name is required"),description:b("description is required")});return(o,n)=>{const V=k,l=S,x=$,y=C,U=j,d=L,p=P,v=w,g=I;return a(),u("div",null,[s(y,{ref:"table",columns:r(m).columns,filters:r(m).filters,url:"/permissions",ui:{th:{base:"text-left"}}},{"roles-data":t(({row:e})=>[(a(!0),u(B,null,N(e.roles,i=>(a(),_(V,{key:i.name,ui:{rounded:"rounded-full"},class:"mx-1 capitalize",size:"xs",label:i.name,color:i.name.toLowerCase().includes("admin")?"emerald":"orange"},null,8,["label","color"]))),128))]),"extra-header":t(()=>[o.$can("create permissions")?(a(),_(l,{key:0,size:"xs",onClick:n[0]||(n[0]=e=>o.addModel=!0),label:"اضافة صلاحية"})):F("",!0)]),"name-data":t(({row:e})=>[s(x,{class:"text-primary font-bold underline",to:{name:"permissions-id",params:{id:e.id}}},{default:t(()=>[c(M(e.name),1)]),_:2},1032,["to"])]),_:1},8,["columns","filters"]),s(g,{modelValue:o.addModel,"onUpdate:modelValue":n[3]||(n[3]=e=>o.addModel=e)},{default:t(()=>[f("div",O,[s(v,{schema:r(h),state:o.permission,onSubmit:o.createPermission},{default:t(()=>[f("div",T,[s(l,{type:"submit",color:"primary",variant:"outline"},{default:t(()=>[s(U,{name:"heroicons:user-plus"}),c(" اضافة صلاحية ")]),_:1})]),s(p,{class:"my-2 capitalize",label:"الاسم",name:"name"},{default:t(()=>[s(d,{icon:"i-heroicons-permission-circle",size:"md",modelValue:o.permission.name,"onUpdate:modelValue":n[1]||(n[1]=e=>o.permission.name=e),variant:"outline"},null,8,["modelValue"])]),_:1}),s(p,{class:"my-2 capitalize",label:"تفاصيل",name:"description"},{default:t(()=>[s(d,{size:"md",modelValue:o.permission.description,"onUpdate:modelValue":n[2]||(n[2]=e=>o.permission.description=e),variant:"outline"},null,8,["modelValue"])]),_:1})]),_:1},8,["schema","state","onSubmit"])])]),_:1},8,["modelValue"])])}}});export{ae as default};
