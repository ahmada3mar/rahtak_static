import{o as n,c as u,d as s,t as g,u as _,s as k,n as c,b as h,j as T,g as w,l as N,P as I,a as m,F as x,r as $,w as b,f as v,aM as A,E as F,G as P,H as V,A as R,I as J,J as U,aR as q,M as G,N as H,D as C,Q as z,aN as Q,q as M,p as W,v as X,at as Y,a9 as O,_ as Z}from"./D-3yo0Mp.js";import{_ as ee}from"./BvJSKjL0.js";import{r as B}from"./Y92EZ8Ky.js";import{I as D}from"./CG9l0aM5.js";const te={wrapper:"relative min-w-0",ol:"flex items-center gap-x-1.5",li:"flex items-center gap-x-1.5 text-gray-500 dark:text-gray-400 text-sm leading-6 min-w-0",base:"flex items-center gap-x-1.5 group font-semibold min-w-0",label:"block truncate",icon:{base:"flex-shrink-0 w-5 h-5",active:"",inactive:""},divider:{base:"flex-shrink-0 w-5 h-5"},active:"text-primary-500 dark:text-primary-400",inactive:" hover:text-gray-700 dark:hover:text-gray-200",default:{divider:"i-heroicons-chevron-right-20-solid rtl:i-heroicons-chevron-left-20-solid"}},ae={class:"flex gap-5 justify-between items-center p-5"},se=s("h5",{class:"m-0"},"الرصيد",-1),ne={data(){return{balance:{availableBalance:k().balance},is_fetching:!1}},methods:{refresh(){this.is_fetching=!0,T("/sadad/get-balance",{method:"GET"}).then(e=>{k().setBalance(e.availableBalance),this.is_fetching=!1})}},mounted(){}},re=Object.assign(ne,{__name:"Balance",setup(e){return(a,t)=>{var d,f;const i=w;return n(),u("div",ae,[se,s("h5",{class:c(`m-0 ${((d=a.balance)==null?void 0:d.availableBalance)==0?"text-red-500":"text-green-500"} `)},g((f=_(k)())==null?void 0:f.balance)+" دينار ",3),a.is_fetching?(n(),h(i,{key:0,role:"button",class:"animate-spin",size:"25px",name:"i-hugeicons-refresh"})):(n(),h(i,{key:1,role:"button",size:"25px",name:"i-hugeicons-refresh",onClick:a.refresh},null,8,["onClick"]))])}}}),oe={props:{expanded:!1,item:{}},data(){return{expandedSub:!1}},created(){this.expandedSub=this.item.items.map(e=>{var a;return(a=e.path)==null?void 0:a.toLowerCase()}).includes((this._.provides[I]||this.$route).fullPath.toLowerCase())}},ie={key:0,role:"button"},le={class:c(`nav-parent relative flex flex-col justify-center nav-link  min-h-11 focus:outline-none 
        text-gray-400 dark:text-400`)},ce={class:"inline-flex justify-center items-center mr-6"},de={class:"inline-flex justify-center items-center"};function ue(e,a,t,i,d,f){var l,o;const r=w,p=A;return!((l=t.item.meta)!=null&&l.auth)||e.$can((o=t.item.meta)==null?void 0:o.auth.permission)?(n(),u("li",ie,[s("div",le,[s("div",{onClick:a[0]||(a[0]=y=>d.expandedSub=!d.expandedSub),class:c(`nav-parent nav-menu relative flex justify-start items-center py-2 text-gray-600 
             dark:text-gray-400 hover:text-gray-100 hover:!bg-primary-500 dark:hover:!bg-slate-500`)},[s("span",ce,[m(r,{name:t.item.icon},null,8,["name"])]),s("span",{class:c(`mr-2 ${t.expanded?"w-full opacity-100":"opacity-0 w-0"}  eas-in-out duration-300 
                    nav-name text-sm tracking-wide 
                    truncate`)},g(t.item.name),3),m(r,{class:c(`absolute left-1 top-2 ${d.expandedSub&&"rotate-180"} transition-all ease-in duration-300`),name:"mdi:chevron-up"},null,8,["class"])]),s("ul",{class:c(` flex h-auto overflow-hidden ${d.expandedSub?"max-h-80 py-2":"max-h-0 p-0"} transition-all ease-in duration-300 text-sm text-gray-400  hover:text-gray-100
                 pl-8 sub-nav flex-col`)},[(n(!0),u(x,null,$(t.item.items,(y,j)=>{var L,S;return n(),u("div",{key:j},[!((L=y.meta)!=null&&L.auth)||e.$can((S=y.meta)==null?void 0:S.auth.permission)?(n(),h(p,{key:0,active:(e._.provides[I]||e.$route).fullPath.includes(y.path),"active-class":"bg-gray-200 dark:bg-slate-700 router-link-exact-active",to:y.path,class:"text-gray-600 dark:text-gray-400 hover:text-gray-100 hover:!bg-primary-500 dark:hover:!bg-slate-500 py-2 flex px-2"},{default:b(()=>[s("span",de,[m(r,{size:"16px",name:y.icon},null,8,["name"])]),s("span",{class:c(`mr-2  ${t.expanded?"w-full opacity-100":"opacity-0 w-0"}  eas-in-out duration-300 
                    nav-name text-sm tracking-wide 
                    overflow-hidden
                    truncate`)},g(y.name),3)]),_:2},1032,["active","to"])):v("",!0)])}),128))],2)])])):v("",!0)}const me=N(oe,[["render",ue]]),he={props:{expanded:!1,target:null,item:{}}},fe={key:1},pe={class:"flex justify-start items-center py-2"},ge={class:"inline-flex justify-center items-center mr-5"};function ye(e,a,t,i,d,f){var o,y,j;const r=me,p=w,l=A;return t.item.items&&t.item.items.length?(n(),h(r,{key:0,item:t.item,expanded:t.expanded},null,8,["item","expanded"])):(n(),u("li",fe,[!((o=t.item.meta)!=null&&o.auth)||e.$can((y=t.item.meta)==null?void 0:y.auth.permission)?(n(),h(l,{key:0,active:t.item.path=="/"?(e._.provides[I]||e.$route).fullPath==t.item.path:(e._.provides[I]||e.$route).fullPath.includes(t.item.path),"active-class":"bg-primary-400 text-white dark:bg-slate-700 router-link-exact-active",target:(j=t.item.meta)==null?void 0:j.target,to:t.item.path,class:"relative flex flex-col justify-center nav-link min-h-11 focus:outline-none text-gray-600 hover:text-gray-100 dark:text-gray-400 dark:hover:text-gray-100 hover:bg-primary-500 dark:hover:bg-slate-500"},{default:b(()=>[s("div",pe,[s("span",ge,[m(p,{name:t.item.icon},null,8,["name"])]),s("span",{class:c(`mr-2 ${t.expanded?"w-full opacity-100":"opacity-0 w-0"}  eas-in-out duration-300 
                    nav-name text-sm tracking-wide capitalize 
                    truncate`)},g(t.item.name),3)])]),_:1},8,["active","target","to"])):v("",!0)]))}const K=N(he,[["render",ye]]),ve={components:{subNav:K},props:{list:{type:Array,default:[]},expanded:Boolean}};function _e(e,a,t,i,d,f){const r=K;return n(!0),u(x,null,$(t.list,(p,l)=>(n(),h(r,{expanded:t.expanded,item:p,key:l},null,8,["expanded","item"]))),128)}const be=N(ve,[["render",_e]]),E=F(P.ui.strategy,P.ui.breadcrumb,te),ke=V({components:{UIcon:R,ULink:A},inheritAttrs:!1,props:{links:{type:Array,default:()=>[]},divider:{type:String,default:()=>E.default.divider},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:a,attrs:t}=J("breadcrumb",U(e,"ui"),E,U(e,"class"));return{ui:a,attrs:t,getULinkProps:q,twMerge:G,twJoin:H}}}),xe={key:1,role:"presentation"};function we(e,a,t,i,d,f){const r=R,p=A;return n(),u("nav",z({"aria-label":"Breadcrumb",class:e.ui.wrapper},e.attrs),[s("ol",{class:c(e.ui.ol)},[(n(!0),u(x,null,$(e.links,(l,o)=>(n(),u("li",{key:o,class:c(e.ui.li)},[m(p,z({as:"span",class:[e.ui.base,o===e.links.length-1?e.ui.active:l.to?e.ui.inactive:""],"aria-current":o===e.links.length-1?"page":void 0,ref_for:!0},e.getULinkProps(l),{onClick:l.click}),{default:b(()=>[C(e.$slots,"icon",{link:l,index:o,isActive:o===e.links.length-1},()=>[l.icon?(n(),h(r,{key:0,name:l.icon,class:c(e.twMerge(e.twJoin(e.ui.icon.base,o===e.links.length-1?e.ui.icon.active:l.to?e.ui.icon.inactive:""),l.iconClass))},null,8,["name","class"])):v("",!0)]),C(e.$slots,"default",{link:l,index:o,isActive:o===e.links.length-1},()=>[l.label?(n(),u("span",{key:0,class:c(e.twMerge(e.ui.label,l.labelClass))},g(l.label),3)):v("",!0)])]),_:2},1040,["class","aria-current","onClick"]),o<e.links.length-1?C(e.$slots,"divider",{key:0},()=>[e.divider?(n(),u(x,{key:0},[e.divider.startsWith("i-")?(n(),h(r,{key:0,name:e.divider,class:c(e.ui.divider.base),role:"presentation"},null,8,["name","class"])):(n(),u("span",xe,g(e.divider),1))],64)):v("",!0)]):v("",!0)],2))),128))],2)],16)}const $e=N(ke,[["render",we]]),je={services:"الخدمات",cliq:"كليك",sadad:"سداد",TaxiF:"تكسي اف",transactions:"الحركات",users:"المستخدمون",roles:"الادوار",permissions:"الصلاحيات"},Ce={class:"p-5 mx-2 flex bg-gray-100 dark:bg-gray-900 my-5 rounded-lg"},Ie={__name:"Breadcrumb",setup(e){function a(t){let i="/services";return t.map((d,f)=>{let r=decodeURI(d.split("_")[0]),p=je[r]??r;return f===0?{label:p,to:i}:(i+=`/${d}`,{label:p,to:i})})}return(t,i)=>{const d=$e;return n(),u("div",Ce,[m(d,{links:[{to:"/",label:"الرئيسية",icon:"i-heroicons-home"},...a(("useRoute"in t?t.useRoute:_(Q))().path.split("/").filter(f=>isNaN(f)))]},null,8,["links"])])}}},Ne={class:"mx-auto h-fit relative max-w-lg w-full"},Ae={key:0,role:"button",class:"w-full"},Be={class:"flex items-center mx-2"},Le={class:"flex flex-col gap-1 mx-3"},Se={key:1,class:"p-5"},Pe={data(){return{searchResults:[],searchList:[],keys:[],search:!1,searchInput:""}},watch:{searchInput(e){e.length>=3&&(e?this.searchList=k().list.filter(a=>a.billerNameAr.includes(e)||a.serviceNameAr.includes(e)||a.categoryNameAr.includes(e)):this.searchList=[])}},methods:{searchDialog(){this.search=!0,this.$nextTick(()=>this.$refs.searchInput.focus())},handleKeyPress(e){this.keys[e.key]=!0,this.keys.Shift&&this.keys.Control&&this.keys.F&&this.searchDialog()},handleKeyPressUp(){this.keys={}},setSearchItems(e,a=null){e.forEach(t=>{var i;if(t.path){const d={name:t.name,icon:t.icon,path:t.path};a&&(d.parent=a),this.searchResults.push(d)}if((i=t.items)!=null&&i.length)return this.setSearchItems(t.items,t.name)})}},created(){const e=Object.values(B).flat();this.setSearchItems(e),typeof window<"u"&&(document.addEventListener("keydown",this.handleKeyPress),document.addEventListener("keyup",this.handleKeyPressUp))},beforeDestroy(){typeof window<"u"&&(document.removeEventListener("keydown",this.handleKeyPress),document.removeEventListener("keyup",this.handleKeyPressUp))},expose:["searchDialog"]},Ue=Object.assign(Pe,{__name:"SearchBar",setup(e){return(a,t)=>{const i=w,d=ee,f=Z;return n(),h(O,{"enter-to-class":"opacity-100","enter-active-class":"transition ease-in duration-300 opacity-0 ","leave-active-class":"transition opacity-100 ease-in duration-300","leave-to-class":"opacity-5"},{default:b(()=>[M(s("div",{onClick:t[2]||(t[2]=W(r=>a.search=!1,["self"])),class:c("absolute bg-[#00000059] flex  h-screen p-10 w-screen top-0 z-50")},[s("div",Ne,[M(s("input",{ref:"searchInput","onUpdate:modelValue":t[0]||(t[0]=r=>a.searchInput=r),class:c("h-10 w-full dark:text-gray-500 rounded px-4 pl-10"),placeholder:"Search",type:"text"},null,512),[[X,a.searchInput]]),m(i,{class:"absolute left-2 translate-y-1/2",color:"gray",name:"carbon:search"}),s("div",{class:c(`container ease-in overflow-y-scroll overflow-x-hidden duration-300
         bg-gray-100 dark:bg-gray-900
          ${a.searchInput.length>=3?"max-h-80":"max-h-0"} w-full rounded mt-2 rounded-b-lg flex justify-center`)},[a.searchList.length>0?(n(),u("div",Ae,[(n(!0),u(x,null,$(a.searchList,(r,p)=>(n(),h(f,{key:p,class:"flex flex-col mx-4 route-search",onClick:t[1]||(t[1]=l=>{a.search=!1,a.searchInput=""}),to:{name:"services-sadad-type-service-id",params:{type:r.categoryNameAr??"na",service:`${r.billerNameAr}_${r.billerCode}`,id:r.id}}},{default:b(()=>[r?(n(),h(d,{key:0,class:"h-full my-3 dark:text-gray-500 hover:bg-orange-100 dark:border-gray-700 hover:border-orange-200 border"},{default:b(()=>[s("div",Be,[_(D)[r.categoryNameEn]?(n(),h(i,{key:0,size:"35px",name:_(D)[r.categoryNameEn]},null,8,["name"])):v("",!0),s("div",Le,[s("div",null,g(r.categoryNameAr),1),s("div",null,g(r.billerNameAr),1),s("div",null,g(r.serviceNameAr),1)])])]),_:2},1024)):v("",!0)]),_:2},1032,["to"]))),128))])):(n(),u("div",Se,"No results"))],2)])],512),[[Y,a.search]])]),_:1})}}}),ze={class:"h-screen antialiased bg-gray-50 dark:bg-gray-950 text-gray-800"},Me={class:"p-5 h-full pr-1 float-left w-fit dark:border-gray-700 border-none flex flex-col fixed z-40"},De={class:"flex items-center justify-center min-h-[64px] max-h-[64px] dark:border-gray-700 border-b px-2 py-3"},Ee={class:"overflow-y-auto overflow-x-hidden flex-grow"},Re={class:"flex flex-col py-4 space-y-1"},Oe={class:"flex flex-row items-center h-8"},Ke={class:"text-sm font-light tracking-wide text-gray-400"},Te={class:"relative flex flex-col justify-center nav-link min-h-11 focus:outline-none text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:bg-slate-500 hover:bg-gray-300 dark:hover:text-gray-100"},Fe={class:"inline-flex justify-center items-center mr-5"},Ve=s("span",{class:c(`mr-2  'w-full opacity-100'  eas-in-out duration-300 
                              nav-name text-sm tracking-wide capitalize 
                                  
                              truncate`)},"تسجيل خروج ",-1),Je={class:"flex justify-center items-center h-16 w-full overflow-hidden text-gray-400 bg-gray-100 dark:bg-gray-900 dark:text-gray-400 rounded-lg my-4"},qe=s("div",{class:"flex items-center mr-2 dark:border-gray-700 border-l dark:border-gray-700 border-gray-300"},null,-1),Ge={class:"mr-auto flex items-center justify-cente"},He={class:"flex items-center justify-center px-5 font-bold"},Qe=s("a",{class:"flex items-center justify-center w-16 h-16 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700",href:"#"},[s("svg",{class:"w-6 h-6 stroke-current",xmrns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1),We={class:"h-full w-full text-gray-400 rounded-lg my-4 overflow-y-auto gutter-stable"},Xe={data(){return{expanded:!0}},methods:{searchDialog(){this.$refs.searchBar.searchDialog()},logout(){k().logout()}}},at=Object.assign(Xe,{__name:"default",setup(e){return(a,t)=>{var l;const i=w,d=re,f=be,r=Ie,p=Ue;return n(),u("div",ze,[s("div",Me,[s("div",{class:c(`relative flex flex-col h-full ${a.expanded?"w-[240px] p-4":"w-[5rem]"} nav-bar transition-all ease-in duration-300 rounded-lg text-gray-400 bg-gray-100 dark:bg-gray-900 dark:text-gray-400 p-0  my-4 overflow-y-hidden`)},[s("div",De,[s("img",{class:c(`transition-all ease-in duration-300  ${a.expanded&&"h-0 opacity-0"}   short`),src:"https://www.rahtak.net/images/home/logo.png"},null,2),s("img",{class:c(`transition-all ease-in duration-300 ${a.expanded?"opacity-100 h-full":"h-0 opacity-0"}   long`),src:"https://www.rahtak.net/images/home/logo.png"},null,2),m(i,{role:"button",onClick:t[0]||(t[0]=o=>a.expanded=!a.expanded),name:a.expanded?"humbleicons:switch-on":"humbleicons:switch-off",class:c(`absolute right-5 top-5 ${!a.expanded&&"opacity-0"} nav-switch transition-all ease-in duration-300`)},null,8,["name","class"])]),s("div",Ee,[s("ul",Re,[m(d),(n(!0),u(x,null,$(Object.keys(_(B)),o=>(n(),u("div",{key:o},[o?(n(),u("li",{key:0,class:c(`px-5 ${a.expanded?"block":"hidden"} `)},[s("div",Oe,[s("div",Ke,g(o),1)])],2)):v("",!0),m(f,{expanded:a.expanded,list:_(B)[o]},null,8,["expanded","list"])]))),128)),s("li",null,[s("div",Te,[s("div",{onClick:t[1]||(t[1]=(...o)=>a.logout&&a.logout(...o)),role:"button",class:"flex justify-start items-center py-2"},[s("span",Fe,[m(i,{name:"ic:outline-logout"})]),Ve])])])])])],2)]),s("div",{class:c(`flex flex-col  h-full  p-5 ${a.expanded?"mr-[260px]":"mr-[100px]"} transition-all ease-in duration-300`)},[s("div",Je,[s("a",{onClick:t[2]||(t[2]=(...o)=>a.searchDialog&&a.searchDialog(...o)),class:"flex items-center justify-center mr-3",href:"#"},[m(i,{name:"carbon:search",size:"26px"})]),s("a",{onClick:t[3]||(t[3]=o=>a.$colorMode.preference=a.$colorMode.preference=="light"?"dark":"light"),class:"flex items-center justify-center w-12 h-12 mr-2 rounded hover:bg-gray-300 dark:hover:bg-gray-700",href:"#"},[m(O,{name:"fade",mode:"out-in"},{default:b(()=>[a.$colorMode.preference=="light"?(n(),h(i,{key:0,name:"carbon:moon",size:"26px"})):a.$colorMode.preference=="dark"?(n(),h(i,{key:1,name:"carbon:sun",size:"26px"})):(n(),h(i,{key:2,name:"carbon:window-black-saturation",size:"26px"}))]),_:1})]),qe,s("div",Ge,[s("div",He,g((l=_(k)().user)==null?void 0:l.fullName),1),Qe])]),s("div",We,[m(r),C(a.$slots,"default")])],2),m(p,{ref:"searchBar"},null,512)])}}});export{at as default};
