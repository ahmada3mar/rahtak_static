import{_ as k}from"./BLsVZqv3.js";import{c as u,a as t,w as s,u as r,j as z,o as a,F as B,r as N,b as _,f as F,e as c,t as M,d as f,h as S,_ as $,g as j}from"./BBRSKody.js";import{_ as C}from"./BCyRSKkc.js";import{a as L,_ as P}from"./oqbOulnE.js";import{o as q,s as b,_ as w}from"./B6W5BCDp.js";import{_ as I}from"./Dg9TsP27.js";import m from"./63JmLspP.js";import"./B82ZZA_z.js";import"./mUE41_Tb.js";import"./Dr5RZ6Yl.js";import"./RLMrsIsz.js";import"./zinKk7y7.js";import"./j95PYyrS.js";import"./N-RVOXpC.js";import"./CReo74yQ.js";import"./CXKHNq1l.js";import"./CGnFqt5o.js";const O={class:"p-4 flex-1"},T={class:"flex justify-end"},A={data(){return{addModel:!1,permission:{roles:[]},options:m}},methods:{createPermission(){z("/permissions",{method:"POST",body:this.permission}).then(()=>{this.addModel=!1,this.$refs.table.refresh(),this.permission={roles:[]}})}}},ie=Object.assign(A,{__name:"index",setup(D){const h=q({name:b("Name is required"),description:b("description is required")});return(o,n)=>{const V=k,l=S,x=$,y=C,U=j,d=L,p=P,v=w,g=I;return a(),u("div",null,[t(y,{ref:"table",columns:r(m).columns,filters:r(m).filters,url:"/permissions",ui:{th:{base:"text-left"}}},{"roles-data":s(({row:e})=>[(a(!0),u(B,null,N(e.roles,i=>(a(),_(V,{key:i.name,ui:{rounded:"rounded-full"},class:"mx-1 capitalize",size:"xs",label:i.name,color:i.name.toLowerCase().includes("admin")?"emerald":"orange"},null,8,["label","color"]))),128))]),"extra-header":s(()=>[o.$can("create permissions")?(a(),_(l,{key:0,size:"xs",onClick:n[0]||(n[0]=e=>o.addModel=!0),label:"اضافة صلاحية"})):F("",!0)]),"name-data":s(({row:e})=>[t(x,{class:"text-primary font-bold underline",to:{name:"permissions-id",params:{id:e.id}}},{default:s(()=>[c(M(e.name),1)]),_:2},1032,["to"])]),_:1},8,["columns","filters"]),t(g,{modelValue:o.addModel,"onUpdate:modelValue":n[3]||(n[3]=e=>o.addModel=e)},{default:s(()=>[f("div",O,[t(v,{schema:r(h),state:o.permission,onSubmit:o.createPermission},{default:s(()=>[f("div",T,[t(l,{type:"submit",color:"primary",variant:"outline"},{default:s(()=>[t(U,{name:"heroicons:user-plus"}),c(" اضافة صلاحية ")]),_:1})]),t(p,{class:"my-2 capitalize",label:"الاسم",name:"name"},{default:s(()=>[t(d,{icon:"i-heroicons-permission-circle",size:"md",modelValue:o.permission.name,"onUpdate:modelValue":n[1]||(n[1]=e=>o.permission.name=e),variant:"outline"},null,8,["modelValue"])]),_:1}),t(p,{class:"my-2 capitalize",label:"تفاصيل",name:"description"},{default:s(()=>[t(d,{size:"md",modelValue:o.permission.description,"onUpdate:modelValue":n[2]||(n[2]=e=>o.permission.description=e),variant:"outline"},null,8,["modelValue"])]),_:1})]),_:1},8,["schema","state","onSubmit"])])]),_:1},8,["modelValue"])])}}});export{ie as default};
